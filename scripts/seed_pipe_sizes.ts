import { createClient } from '@supabase/supabase-js'
import dotenv from 'dotenv'

dotenv.config({ path: '.env.local' })

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY!

const supabase = createClient(supabaseUrl, supabaseKey)

const csData = [
    ["1/2", 21.3, "Sch 10", 2.11, 1.00],
    ["1/2", 21.3, "Sch STD", 2.77, 1.27],
    ["1/2", 21.3, "Sch 40", 2.77, 1.27],
    ["1/2", 21.3, "Sch XS", 3.73, 1.62],
    ["1/2", 21.3, "Sch 80", 3.73, 1.62],
    ["1/2", 21.3, "Sch 160", 4.78, 1.95],
    ["1/2", 21.3, "Sch XXS", 7.47, 2.55],
    ["3/4", 26.7, "Sch 10", 2.11, 1.28],
    ["3/4", 26.7, "Sch STD", 2.87, 1.69],
    ["3/4", 26.7, "Sch 40", 2.87, 1.69],
    ["3/4", 26.7, "Sch XS", 3.91, 2.20],
    ["3/4", 26.7, "Sch 80", 3.91, 2.20],
    ["3/4", 26.7, "Sch 160", 5.56, 2.90],
    ["3/4", 26.7, "Sch XXS", 7.82, 3.64],
    ["1", 33.4, "Sch 10", 2.77, 2.09],
    ["1", 33.4, "Sch STD", 3.38, 2.50],
    ["1", 33.4, "Sch 40", 3.38, 2.50],
    ["1", 33.4, "Sch XS", 4.55, 3.24],
    ["1", 33.4, "Sch 80", 4.55, 3.24],
    ["1", 33.4, "Sch 160", 6.35, 4.24],
    ["1", 33.4, "Sch XXS", 9.09, 5.45],
    ["1.25", 42.2, "Sch 10", 2.77, 2.69],
    ["1.25", 42.2, "Sch STD", 3.56, 3.39],
    ["1.25", 42.2, "Sch 40", 3.56, 3.39],
    ["1.25", 42.2, "Sch XS", 4.85, 4.47],
    ["1.25", 42.2, "Sch 80", 4.85, 4.47],
    ["1.25", 42.2, "Sch 160", 6.35, 5.61],
    ["1.25", 42.2, "Sch XXS", 9.70, 7.77],
    ["1.5", 48.3, "Sch 10", 2.77, 3.11],
    ["1.5", 48.3, "Sch STD", 3.68, 4.05],
    ["1.5", 48.3, "Sch 40", 3.68, 4.05],
    ["1.5", 48.3, "Sch XS", 5.08, 5.41],
    ["1.5", 48.3, "Sch 80", 5.08, 5.41],
    ["1.5", 48.3, "Sch 160", 7.14, 7.25],
    ["1.5", 48.3, "Sch XXS", 10.16, 9.56],
    ["2", 60.3, "Sch 10", 2.77, 3.93],
    ["2", 60.3, "Sch STD", 3.91, 5.44],
    ["2", 60.3, "Sch 40", 3.91, 5.44],
    ["2", 60.3, "Sch XS", 5.54, 7.48],
    ["2", 60.3, "Sch 80", 5.54, 7.48],
    ["2", 60.3, "Sch 160", 8.74, 11.11],
    ["2", 60.3, "Sch XXS", 11.07, 13.44],
    ["2.5", 73, "Sch 10", 3.05, 5.26],
    ["2.5", 73, "Sch STD", 5.16, 8.63],
    ["2.5", 73, "Sch 40", 5.16, 8.63],
    ["2.5", 73, "Sch XS", 7.01, 11.41],
    ["2.5", 73, "Sch 80", 7.01, 11.41],
    ["2.5", 73, "Sch 160", 9.52, 14.90],
    ["2.5", 73, "Sch XXS", 14.02, 20.39],
    ["3", 88.9, "Sch 10", 3.05, 6.46],
    ["3", 88.9, "Sch STD", 5.49, 11.29],
    ["3", 88.9, "Sch 40", 5.49, 11.29],
    ["3", 88.9, "Sch XS", 7.62, 15.27],
    ["3", 88.9, "Sch 80", 7.62, 15.27],
    ["3", 88.9, "Sch 160", 11.13, 21.35],
    ["3", 88.9, "Sch XXS", 15.24, 27.68],
    ["4", 114.3, "Sch 10", 3.05, 8.37],
    ["4", 114.3, "Sch STD", 6.02, 16.08],
    ["4", 114.3, "Sch 40", 6.02, 16.08],
    ["4", 114.3, "Sch XS", 8.56, 22.32],
    ["4", 114.3, "Sch 80", 8.56, 22.32],
    ["4", 114.3, "Sch 120", 11.13, 28.32],
    ["4", 114.3, "Sch 160", 13.49, 33.54],
    ["4", 114.3, "Sch XXS", 17.12, 41.03],
    ["6", 168.3, "Sch 10", 3.40, 13.83],
    ["6", 168.3, "Sch STD", 7.11, 28.26],
    ["6", 168.3, "Sch 40", 7.11, 28.26],
    ["6", 168.3, "Sch XS", 10.97, 42.56],
    ["6", 168.3, "Sch 80", 10.97, 42.56],
    ["6", 168.3, "Sch 120", 14.27, 54.21],
    ["6", 168.3, "Sch 160", 18.26, 67.57],
    ["6", 168.3, "Sch XXS", 21.95, 79.22],
    ["8", 219.1, "Sch 10", 3.76, 19.97],
    ["8", 219.1, "Sch 20", 6.35, 33.32],
    ["8", 219.1, "Sch STD", 8.18, 42.55],
    ["8", 219.1, "Sch 40", 8.18, 42.55],
    ["8", 219.1, "Sch XS", 12.70, 64.64],
    ["8", 219.1, "Sch 80", 12.70, 64.64],
    ["10", 273, "Sch 10", 4.19, 27.78],
    ["10", 273, "Sch STD", 9.27, 60.29],
    ["10", 273, "Sch 40", 9.27, 60.29],
    ["10", 273, "Sch XS", 12.70, 81.53],
    ["10", 273, "Sch 80", 15.09, 95.98],
    ["12", 323.8, "Sch 10", 4.57, 35.98],
    ["12", 323.8, "Sch STD", 9.52, 73.79],
    ["12", 323.8, "Sch 40", 10.31, 79.71],
    ["12", 323.8, "Sch XS", 12.70, 97.44],
    ["12", 323.8, "Sch 80", 17.48, 132.05]
]

const ssData = [
    ["1/2", 21.34, "Sch 5S", 1.65, 0.81],
    ["1/2", 21.34, "Sch 10S", 2.11, 1.02],
    ["1/2", 21.34, "Sch 40S", 2.77, 1.29],
    ["1/2", 21.34, "Sch 80S", 3.73, 1.65],
    ["3/4", 26.67, "Sch 5S", 1.65, 1.03],
    ["3/4", 26.67, "Sch 10S", 2.11, 1.30],
    ["3/4", 26.67, "Sch 40S", 2.87, 1.71],
    ["3/4", 26.67, "Sch 80S", 3.91, 2.23],
    ["1", 33.4, "Sch 5S", 1.65, 1.31],
    ["1", 33.4, "Sch 10S", 2.77, 2.12],
    ["1", 33.4, "Sch 40S", 3.38, 2.54],
    ["1", 33.4, "Sch 80S", 4.55, 3.29],
    ["1.5", 48.26, "Sch 5S", 1.65, 1.93],
    ["1.5", 48.26, "Sch 10S", 2.77, 3.15],
    ["1.5", 48.26, "Sch 40S", 3.68, 4.11],
    ["1.5", 48.26, "Sch 80S", 5.08, 5.49],
    ["2", 60.33, "Sch 5S", 1.65, 2.42],
    ["2", 60.33, "Sch 10S", 2.77, 3.99],
    ["2", 60.33, "Sch 40S", 3.91, 5.52],
    ["2", 60.33, "Sch 80S", 5.54, 7.60],
    ["3", 88.9, "Sch 5S", 2.11, 4.58],
    ["3", 88.9, "Sch 10S", 3.05, 6.55],
    ["3", 88.9, "Sch 40S", 5.49, 11.47],
    ["3", 88.9, "Sch 80S", 7.62, 15.52],
    ["4", 114.3, "Sch 5S", 2.11, 5.93],
    ["4", 114.3, "Sch 10S", 3.05, 8.49],
    ["4", 114.3, "Sch 40S", 6.02, 16.35],
    ["4", 114.3, "Sch 80S", 8.56, 22.70],
    ["6", 168.28, "Sch 5S", 2.77, 11.47],
    ["6", 168.28, "Sch 10S", 3.4, 14.04],
    ["6", 168.28, "Sch 40S", 7.11, 28.73],
    ["6", 168.28, "Sch 80S", 10.97, 43.27]
]

async function seed() {
    console.log('Seeding Pipe Sizes...')

    // Process CS
    const csItems = csData.map(d => ({
        material_type: 'CS',
        size_inch: d[0],
        od_mm: d[1],
        schedule: d[2],
        wall_thickness_mm: d[3],
        weight_kg_per_m: d[4]
    }))

    // Process SS
    const ssItems = ssData.map(d => ({
        material_type: 'SS',
        size_inch: d[0],
        od_mm: d[1],
        schedule: d[2],
        wall_thickness_mm: d[3],
        weight_kg_per_m: d[4]
    }))

    const { error: csError } = await supabase.from('pipe_sizes').insert(csItems)
    if (csError) console.error('Error inserting CS:', csError)
    else console.log('CS Pipe Sizes Inserted')

    const { error: ssError } = await supabase.from('pipe_sizes').insert(ssItems)
    if (ssError) console.error('Error inserting SS:', ssError)
    else console.log('SS Pipe Sizes Inserted')
}

seed()
